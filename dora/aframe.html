<html>
  <head>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
  </head>
  <body>



<script>
  /*
  AFRAME.registerComponent("foo", {
    init: function() {
      var player = document.querySelector("a-camera")
      window.addEventListener("keydown", (e) => {
        if (e.code === "KeyR") {
          var angle = player.getAttribute("rotation")
          console.log(angle)
          let theta = (angle.x * Math.PI / 180) + Math.PI / 2
          let fi = angle.y * Math.PI / 180
          let r = 0.1
          let z = Math.sin(theta) * Math.cos(fi) * r
          let x = Math.sin(theta) * Math.sin(fi) * r
          let y = Math.cos(theta) * r

          var pos = player.getAttribute("position")
          pos.x -= x;
          pos.y -= y;
          pos.z -= z;

          player.setAttribute("position", pos);
        }
      })
    }
  })
  */



  AFRAME.registerComponent('plane', {
    init: function() {
      var btn = document.getElementById('btn-plane');
      btn.addEventListener("click", function() {
        //var entityEl = document.querySelector("a-gltf-model");
        var entityEl = document.getElementById("path")
        var pos = entityEl.getAttribute("position");
        console.log(pos)
        if (pos.y === 1000) {
          entityEl.setAttribute('position', '0 0 -3');
        } else {
          entityEl.setAttribute('position', '0 1000 -3');
        }
        
      });
    }
  });


  AFRAME.registerComponent("arrows", {
    init: function() {
      var btn = document.getElementById('btn-arrows');
      btn.addEventListener("click", function() {
        //var entityEl = document.querySelector("a-gltf-model");
        var entityEl = document.getElementById("skull")
        var pos = entityEl.getAttribute("position");
        console.log(pos)
        if (pos.y === 1000) {
          entityEl.setAttribute('position', '0 0 -3');
        } else {
          entityEl.setAttribute('position', '0 1000 -3');
        }
        
      });
    }
  });

  

</script>

<button id="btn-plane" style="position: absolute; z-index: 9999; left: 200px">place</button>
<button id="btn-arrows" style="position: absolute; z-index: 9999; left: 300px">arrows</button>




<a-scene>
  <a-gltf-model arrows id='skull' position='0 0 -3' rotation='0 50 0' scale='0.5 0.5 0.5' src='https://sjmarshalluk.github.io/model-maker/models/lavant-test.gltf'></a-gltf-model>
  <a-plane plane id="path" position="0 0 -4" rotation="-90 0 -90" width="100" height="4" color="#7BC8A4"></a-plane>

  <a-camera></a-camera>
</a-scene>


<script>

  
/*
    window.addEventListener("load", initAFrame);

    function initAFrame(){

  AFRAME.registerComponent("plane", {
    init: function() {
      var entityEl = document.querySelector("a-plane");
      entityEl.setAttribute("color", "#000000");
      entityEl.setAttribute("position", {
            "x" : 0,
            "y" : 3.8,
            "z" : 3.8
        });
    }
  })

}
*/

</script>

  </body>
</html>