
<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>GeoAR.js demo</title>
    <script src='https://aframe.io/releases/0.9.2/aframe.min.js'></script>
    <script src="https://raw.githack.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>
    <script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    <script>
        THREEx.ArToolkitContext.baseURL = 'https://raw.githack.com/jeromeetienne/ar.js/master/three.js/'
    </script>
</head>


     <script type="text/javascript">



            var route = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            -0.9389340877532959,
            51.00544819406518
          ],
          [
            -0.9402644634246827,
            51.00611992190385
          ],
          [
            -0.9403073787689209,
            51.00601528152339
          ],
          [
            -0.9404683113098143,
            51.00551232930397
          ],
          [
            -0.9407418966293336,
            51.00449965728553
          ],
          [
            -0.9408921003341675,
            51.00452666215957
          ],
          [
            -0.9408974647521973,
            51.004479403619676
          ],
          [
            -0.9409403800964355,
            51.004384886395414
          ],
          [
            -0.9419757127761841,
            51.00450978411512
          ],
          [
            -0.9433597326278687,
            51.004607676687414
          ],
          [
            -0.943375825881958,
            51.00446927678342
          ]
        ]
      }
    }
  ]
}



            window.onload = () => {
                 renderPlaces();
            };


            function renderPlaces() {
                let scene = document.querySelector('a-scene');

                route.features[0].geometry.coordinates.forEach(function(turn) {
                  console.log("latitude: " + String(turn[1]) + "; longitude: " + String(turn[0]));
                  let latitude = turn[1];
                  let longitude = turn[0];

                  var latlng = "latitude: " + String(turn[1]) + "longitude: " + String(turn[0]);

                  let model = document.createElement('a-box');
                  //model.setAttribute('gps-entity-place', `latitude: ${latitude}; longitude: ${longitude};`);

                  /*
                  model.setAttribute('gltf-model', './assets/magnemite/scene.gltf');
                  model.setAttribute('rotation', '0 180 0');
                  model.setAttribute('animation-mixer', '');
                  model.setAttribute('scale', '0.5 0.5 0.5');
                  model.addEventListener('loaded', () => {
                      window.dispatchEvent(new CustomEvent('gps-entity-place-loaded'))
                  });
                  */

                  model.setAttribute('gps-entity-place', 'latitude: 41.892590; longitude: 12.489820;');
                  model.setAttribute("rotation", '0 45 0');
                  //model.setAttribute("color", "#4CC3D9");


                  

                  scene.appendChild(model);

                })

            }

        </script>

        <body style='margin: 0; overflow: hidden;'>
    <a-scene
       vr-mode-ui="enabled: false"
    embedded
        arjs='sourceType: webcam; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; displayHeight: 960; debugUIEnabled: false;'>
        <a-camera gps-camera rotation-reader>
    </a-camera>
  </a-scene>
</body>
</html>
